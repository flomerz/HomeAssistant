- alias: Light Aus
  trigger:
    - platform: state
      entity_id: input_select.state_livingroom_light
      to: 'Aus'
  action:
    # lights
    - service: light.turn_off
      entity_id: light.livingroom_front
    - service: light.turn_off
      entity_id: light.livingroom_sofatable
    - service: light.turn_off
      entity_id: light.livingroom_rgbww
    - service: light.turn_off
      entity_id: light.shelly_diningtable
    - service: light.turn_off
      entity_id: light.christmas_light
    - service: light.turn_off
      entity_id: light.wohnzimmer_tv_ambilight


- alias: Light Film
  trigger:
    - platform: state
      entity_id: input_select.state_livingroom_light
      to: 'Film'
  action:
    - service: input_select.select_option
      data_template:
        entity_id: input_select.mode_livingroom_light
        option: "{{ states('input_select.state_livingroom_light') }}"
    # lights
    - service: light.turn_off
      entity_id: light.shelly_kitchen
    - service: light.turn_off
      entity_id: light.kitchen
    - service: light.turn_off
      entity_id: light.floor
    - service: light.turn_off
      entity_id: light.light_door
    - service: light.turn_off
      entity_id: light.livingroom_front
    - service: light.turn_off
      entity_id: light.livingroom_sofatable
    - service: light.turn_on
      entity_id: light.livingroom_rgbww
      data:
        brightness_pct: 20
        effect: none
        rgbww_color: [0, 0, 255, 0, 150]
    - service: light.turn_off
      entity_id: light.shelly_diningtable
    - service: light.turn_off
      entity_id: light.christmas_light


- alias: Light Beamer
  trigger:
    - platform: state
      entity_id: input_select.state_livingroom_light
      to: 'Beamer'
  action:
    - service: input_select.select_option
      data_template:
        entity_id: input_select.mode_livingroom_light
        option: "{{ states('input_select.state_livingroom_light') }}"
    # lights
    - service: light.turn_off
      entity_id: light.livingroom_front
    - service: light.turn_off
      entity_id: light.livingroom_sofatable
    - service: light.turn_on
      entity_id: light.livingroom_rgbww
      data:
        brightness_pct: 60
        effect: none
        rgbww_color: [0, 0, 255, 0, 150]
    - service: light.turn_off
      entity_id: light.christmas_light


- alias: Light Beamer Bright
  trigger:
    - platform: state
      entity_id: input_select.state_livingroom_light
      to: 'Beamer Hell'
  action:
    - service: input_select.select_option
      data_template:
        entity_id: input_select.mode_livingroom_light
        option: "{{ states('input_select.state_livingroom_light') }}"
    # lights
    - service: light.turn_off
      entity_id: light.livingroom_front
    - service: light.turn_on
      entity_id: light.livingroom_sofatable
    - service: light.turn_on
      entity_id: light.livingroom_rgbww
      data:
        brightness_pct: 80
        effect: none
        rgbww_color: [255, 0, 0, 0, 255]
    - service: light.turn_off
      entity_id: light.christmas_light


- alias: Light Chill
  trigger:
    - platform: state
      entity_id: input_select.state_livingroom_light
      to: 'Chill'
  action:
    - service: input_select.select_option
      data_template:
        entity_id: input_select.mode_livingroom_light
        option: "{{ states('input_select.state_livingroom_light') }}"
    # lights
    - service: light.turn_on
      entity_id: light.livingroom_front
    - service: light.turn_on
      entity_id: light.livingroom_sofatable
    - service: light.turn_on
      entity_id: light.livingroom_rgbww
      data:
        brightness_pct: 100
        effect: none
        rgbww_color: [255, 0, 0, 0, 100]
    - service: light.turn_on
      entity_id: light.livingroom_rgbww
      data:
        effect: rainbow
    - service: light.turn_on
      entity_id: light.shelly_diningtable
    - service: light.turn_on
      entity_id: light.christmas_light


- alias: Light Ambient
  trigger:
    - platform: state
      entity_id: input_select.state_livingroom_light
      to: 'Normal'
  action:
    - service: input_select.select_option
      data_template:
        entity_id: input_select.mode_livingroom_light
        option: "{{ states('input_select.state_livingroom_light') }}"
    # lights
    - service: light.turn_on
      entity_id: light.livingroom_front
    - service: light.turn_on
      entity_id: light.livingroom_sofatable
    - service: light.turn_on
      entity_id: light.livingroom_rgbww
      data:
        brightness_pct: 100
        effect: none
        rgbww_color: [0, 0, 0, 0, 255]
    - service: light.turn_on
      entity_id: light.shelly_diningtable
    - service: light.turn_on
      entity_id: light.christmas_light


- alias: Light Hell
  trigger:
    - platform: state
      entity_id: input_select.state_livingroom_light
      to: 'Hell'
  action:
    - service: input_select.select_option
      data_template:
        entity_id: input_select.mode_livingroom_light
        option: "{{ states('input_select.state_livingroom_light') }}"
    # lights
    - service: light.turn_on
      entity_id: light.livingroom_front
    - service: light.turn_on
      entity_id: light.livingroom_sofatable
    - service: light.turn_on
      entity_id: light.livingroom_rgbww
      data:
        brightness_pct: 100
        effect: none
        rgbww_color: [255, 255, 255, 255, 255]
    - service: light.turn_on
      entity_id: light.shelly_diningtable
    - service: light.turn_on
      entity_id: light.christmas_light

- alias: Dimmer
  trigger:
    - platform: state
      entity_id: sensor.dimmer_brightness
  action:
    - service: light.turn_on
      entity_id: light.livingroom_rgbww
      data_template:
        brightness: "{{ states('sensor.dimmer_brightness') }}"


- alias: Light TV OFF
  trigger:
    - platform: state
      entity_id: input_select.state_livingroom_light
    - platform: state
      entity_id: media_player.wohnzimmer_tv
      to: 'off'
  condition:
    - condition: state
      entity_id: media_player.wohnzimmer_tv
      state: 'off'
    - condition: not
      conditions:
      - condition: state
        entity_id: input_select.state_livingroom_light
        state: 'Aus'
  action:
    - service: light.turn_on
      entity_id: light.wohnzimmer_tv_ambilight
      data:
        brightness_pct: 30
        rgb_color: [255, 0, 255]
        effect: 'Mode: manual'
